<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><script type="text/javascript" src="../page_head.js"></script>

<h3><a href="../program.htm">程式語言</a> - High Level Assembly (HLA) - Win32 API (HLA v1.x) - <b>Hello, world!</b></h3>
<hr size="1"><br>
<p>
參考網站：<br>
https://www.plantation-productions.com/Webster/<br>
https://www.plantation-productions.com/Webster/Win32Asm/win32API.html<br><br>

經典的<b>Hello, world!</b>程式框架總是能夠讓人細心品味一款程式語言的美好，司徒就使用一個簡單的Message對話盒來展現<b>Hello, world!</b>框架<br><br>

main.hla
</p>
<pre class="brush:asm">
program main;

#include("w.hhf")

begin main;
    w.MessageBox(0, "Hello, world!", "main", w.MB_OK);
end main;
</pre>
<p>
<b>Line 1</b>：程式名稱，program、begin、end的名稱都必須一致，HLA語言其實是跟Pascal語言很相似的<br>
<b>Line 3</b>：Header檔案<br>
<b>Line 5~7</b>：主程式部份<br>
<b>Line 6</b>：顯示Message對話盒<br><br>

Makefile
</p>
<pre>
export WINEPREFIX=/home/user/.wine_amd64

TARGET=main
MYWINE=box86 wine

all:
	${MYWINE} hlaparse.exe -WIN32 -level=high -v -test ${TARGET}.hla
	${MYWINE} polink.exe @${TARGET}.link hlalib.lib ${TARGET}.obj /OUT:${TARGET}.exe

run:
	${MYWINE} ${TARGET}.exe

clean:
	rm -rf ${TARGET}.exe ${TARGET}.obj ${TARGET}.link
</pre><br>

<p>
編譯、執行
</p>
<pre>
$ make
$ make run
</pre>
<p>
<img style="border:0px" src="nasm_win32_hello/1.jpg" class="maxSize">
</p>

<br><script type="text/javascript" src="../tail.js"></script>
