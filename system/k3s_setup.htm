<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><script type="text/javascript" src="../page_head.js"></script>

<h3><a href="../system.htm">系統</a> - K3s - <b>安裝環境</b></h3>
<hr size="1"><br>
<p>
參考資訊：<br>
https://docs.k3s.io/installation/uninstall<br>
https://kubernetes.io/zh-cn/docs/tasks/run-application/run-stateless-application-deployment/<br><br>

安裝K3s
</p>
<pre>
$ cd
$ curl -sfL https://get.k3s.io | sh -s - --write-kubeconfig-mode 644
$ sudo systemctl status k3s
    ● k3s.service - Lightweight Kubernetes
         Loaded: loaded (/etc/systemd/system/k3s.service; enabled; vendor preset: enabled)
         Active: active (running) since Thu 2024-05-09 21:17:43 CST; 13h ago
           Docs: https://k3s.io
        Process: 121268 ExecStartPre=/bin/sh -xc ! /usr/bin/systemctl is-enabled --quiet nm-cloud-setup.service 2&gt;/dev/null (code=exited, status=0/SUCCESS)
        Process: 121270 ExecStartPre=/sbin/modprobe br_netfilter (code=exited, status=0/SUCCESS)
        Process: 121271 ExecStartPre=/sbin/modprobe overlay (code=exited, status=0/SUCCESS)
       Main PID: 121272 (k3s-server)

$ kubectl get node
    NAME     STATUS   ROLES                  AGE   VERSION
    ubuntu   Ready    control-plane,master   13h   v1.29.4+k3s1

$ kubectl get pod
    No resources found in default namespace.
</pre><br>

<p>
移除K3s
</p>
<pre>
$ /usr/local/bin/k3s-uninstall.sh
$ #/usr/local/bin/k3s-agent-uninstall.sh
</pre>

<br><script type="text/javascript" src="../tail.js"></script>
