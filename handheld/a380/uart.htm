<!--
 ____________________________________________________________
|                                                            |
|    DESIGN + Pat Heard { http://fullahead.org }             |
|      DATE + 2006.09.12                                     |
| COPYRIGHT + Free use if this notice is kept in place.      |
|____________________________________________________________|

-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>司徒的教學網站</title>
  <meta http-lowast="content-type" content="application/xhtml+xml; charset=UTF-8" />
  <meta name="author" content="fullahead.org" />
  <meta name="keywords" content="XHTML, CSS, template, FullAhead" />
  <meta name="description" content="A valid, XHTML 1.0 template" />
  <meta name="robots" content="index, follow, noarchive" />
  <meta name="googlebot" content="noarchive" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.1, maximum-scale=100.0"/>

  <link rel="shortcut icon" href="../../website.ico">
  <link rel="stylesheet" type="text/css" href="../../styles/shCore.css" />
  <link rel="stylesheet" type="text/css" href="../../styles/shThemeDefault.css" />
  <link rel="stylesheet" type="text/css" href="../../css/html.css" media="screen, projection, tv " />
  <link rel="stylesheet" type="text/css" href="../../css/layout.css" media="screen, projection, tv" />
  <link rel="stylesheet" type="text/css" href="../../css/print.css" media="print" />
  
  <script type="text/javascript" src="../../scripts/shCore.js"></script>
  <script type="text/javascript" src="../../scripts/shBrushCpp.js"></script>

  <!-- Conditional comment to apply opacity fix for IE #content background.
       Invalid CSS, but can be removed without harming design -->
  <!--[if gt IE 5]>
  <link rel="stylesheet" type="text/css" href="css/ie.css" media="screen, projection, tv " />
  <![endif]-->
</head>

<body>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<div id="wrapper">
<div id="content">
<script type="text/javascript" src="../../header.js"></script>
<div id="page">
<h3>Dingoo Tech A380</h3>
<p><b>焊接UART接頭</b></p>
<hr size="1">
<p>
為了開發Bootloader、Kernel程式，司徒必須先將UART的TX、RX焊接出來，這樣才可以有一個可以除錯的介面，很幸運地，在A380掌機主板有留這兩個焊點，因此司徒直接焊接就可以了。<br><br>

PCB主板<br>
<img src="uart/3.jpg" class="maxSize"><br><br>

焊接UART接線<br>
<img src="uart/4.jpg" class="maxSize"><br><br>

完成<br>
<img src="uart/1.jpg" class="maxSize"><br><br>

外觀鑽3個洞就可以連接UART<br>
<img src="uart/2.jpg" class="maxSize"><br><br>

UART輸出訊息(Baudrate: 57600bps)
</p>

<pre>
jz_board_init 1
jz_board_init 2
jz_board_init 3
jz_board_init 4

U-Boot 1.1.6 (Nov 10 2011 - 12:46:16)

12:45:55 Board: Ingenic CETUS (CPU Speed 432 MHz)
 pass
12:45:55 checkboard mv is 4099 read_count is 0
 REG_RTC_HWFCR is 0xc80
printf_test_rtc 
REG_RTC_RCR is 0xc9
REG_RTC_HWFCR is 0xc80
REG_RTC_HRCR is 0xfe0
REG_RTC_HSPR is 0x12345678
REG_RTC_HWCR is 0x0
REG_RTC_HWRSR is 0x22
REG_RTC_RSR is 0xf88813c8
REG_RTC_RSAR is 0xffb8bf9d
cetus.c 296
cetus.c 302
cetus.c 316
cetus.c 330
cetus.c 344
cetus.c 358
cetus.c 372
cetus.c 386
cetus.c 400
DRAM:  64 MB
Flash:  0 kB
Get bootloader message ...
get_bootloader_message:msc read
SD init ok
In handle_bootloader_command ... default ...

NORMAL Booting ...

SD init ok
*** Warning - MMC/SD first load, using default environment

In:    serial
Out:   serial
Err:   serial
Net:   No ethernet found.
Hit any key to stop autoboot:  0 

MSC readSD init ok
 3145728 bytes OK: 
## Booting image at 80600000 ...
   Image Name:   Linux-2.6.24.3L009
   Image Type:   MIPS Linux Kernel Image (gzip compressed)
   Data Size:    1189086 Bytes =  1.1 MB
   Load Address: 80010000
   Entry Point:  801f2f20
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK

Starting kernel ...

Linux version 2.6.24.3L009 (alien-grey@ALIEN-GREY-3) (gcc version 4.3.3 (GCC) ) #1 Sat Apr 27 21:05:42 CEST 2013
CPU revision is: 2ed0024f (Ingenic JZRISC)
CPU clock: 432MHz, System clock: 144MHz, Peripheral clock: 144MHz, Memory clock: 144MHz
Umido L009 board setup Apr 27 2013 21:03:23
Determined physical RAM map:
 memory: 04000000 @ 00000000 (usable)
User-defined physical RAM map:
 memory: 04000000 @ 00000000 (usable)
Zone PFN ranges:
  Normal          0 -&gt;    16384
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0:        0 -&gt;    16384
Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 16256
Kernel command line: mem=64M console=ttyS1,57600n8 ip=off rootfstype=ext3 root=/dev/mmcblk0p1 ro
Primary instruction cache 16kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
Synthesized clear page handler (25 instructions).
Synthesized copy page handler (44 instructions).
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
PID hash table entries: 256 (order: 8, 1024 bytes)
Console: colour dummy device 80x25
console [ttyS1] enabled
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 59396k/65536k available (1950k kernel code, 6076k reserved, 1765k data, 136k init, 0k highmem)
Mount-cache hash table entries: 512
net_namespace: 64 bytes
NET: Registered protocol family 16
Total 16MB memory at 0x3000000 was reserved for IPU
Time: jz_clocksource clocksource has been installed.
Total 8MB memory1 at 0x1800000 was reserved for IPU
Power Management for JZ
===== verify ===== policy = ..
===== verify ===== policy = ..
CPU_FREQ: freq_target, policy = 0x810a3980, freq=432000, relation=0
new_index = 5
==== div_of_cclk=1 ==== 
divisors of I:S:P:M = 1:3:3:3
new frequency is 432000 KHz (REG_CPM_CPCCR:0x40612220)
io scheduler noop registered (default)
attention  __gpio_as_lcd_18bit 

LCDC: PixClock:19636363
FrameBuffer bpp = 16
=========== CONFIG FB JZ4750 sllcd.. 
In jz4750fb_deep_set_mode  
fg0_frm_size = 0x2ee00
LCDC: PixClock:19636363
Out jz4750fb_deep_set_mode  
fb0: jz-lcd frame buffer device, using 1024K of video memory
kernel logo display  thread start!
Lcd Backlight on..
JzSOC: char device family.
JZ4740 SAR-ADC driver registered
UDC starting pnp monitor thread
Cable not in! 
JZ UDC hotplug driver registered
init rda5807p 
Virtual Driver of TCSM registered
Serial: 8250/16550 driver $Revision: 1.5 $ 4 ports, IRQ sharing disabled
serial8250: ttyS0 at MMIO 0x0 (irq = 9) is a 16550A
??????50: ttyS1 at MMIO 0x0 (irq = 8) is a 16550A
serial8250: ttyS2 at MMIO 0x0 (irq = 7) is a 16550A
RAMDISK driver initialized: 16 RAM disks of 4096K size 1024 blocksize
loop: module loaded
jz-gpio-keys: scan interval 20ms
input: JZ GPIO keys as /class/input/input0
drivers/input/keyboard/elan_wireless_pad.c 393 elan_pad_init
===== verify ===== policy = ..
===== verify ===== policy = ..
CPU_FREQ: freq_target, policy = 0x810a3980, freq=432000, relation=0
new_index = 5
==== div_of_cclk=1 ==== 
divisors of I:S:P:M = 1:3:3:3
new frequency is 432000 KHz (REG_CPM_CPCCR:0x40612220)
: No card detect facilities available
mmc0: new high speed SDHC card at address 0260
mmcblk0: mmc0:0260 MS    3932160KiB 
mmcblk0: p1 p2 p3 p4
JZ mmc0 driver registered
JZ mmc1 driver registered
register codec 801be43c
##### cleared codec reg6
JZ I2S OSS audio driver initialized
kjournald starting.  Commit interval 5 seconds
EXT3-fs: mounted filesystem with ordered data mode.
VFS: Mounted root (ext3 filesystem) readonly.
Freeing unused kernel memory: 136k freed
Warning: unable to open an initial console.
kjournald starting.  Commit interval 5 seconds
EXT3-fs: mounted filesystem with ordered data mode.
kjournald starting.  Commit interval 5 seconds
EXT3 FS on mmcblk0p3, internal journal
EXT3-fs: mounted filesystem with ordered data mode.
CPU_FREQ: freq_target, policy = 0x810a3980, freq=432000, relation=0
new_index = 5
==== div_of_cclk=1 ==== 
divisors of I:S:P:M = 1:3:3:3
new frequency is 432000 KHz (REG_CPM_CPCCR:0x40612220)
$$$$$ val = 60, REG_17 = 0x8c, REG_18 = 0x0a

Welcome to dingux

(none) login: drivers/input/keyboard/elan_wireless_pad.c 306 elan_state_flag is 0
senddataelan is 1
 e

Medive printk: shutdown write shell end flag!
++++++++ Start LCD_FLUSH +++++++++
CPU_FREQ: freq_target, policy = 0x810a3980, freq=144000, relation=0
new_index = 3
==== div_of_cclk=3 ==== 
divisors of I:S:P:M = 3:6:6:6
enter jz_init_boot_config
leave jz_init_boot_config
enter jz_scale_divisors...
--1---
--2---
--3---
--4---
leave jz_scale_divisors...
new frequency is 144000 KHz (REG_CPM_CPCCR:0x40614442)
</pre><br>

<p>
<br><a href="../../handheld.htm">返回上一頁</a>
</p>

</div>
</div>
</div>
</body>
</html>
