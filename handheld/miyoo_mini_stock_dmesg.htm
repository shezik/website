<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><script type="text/javascript" src="../page_head.js"></script>

<h3><a href="../index.htm">掌機</a> - Miyoo Mini - Stock - <b>dmesg</b></h3>
<hr size="1"><br>
<pre>
Booting Linux on physical CPU 0x0
Linux version 4.9.84 (alfchen@alfchen-NUC) (gcc version 8.2.1 20180802 (GNU Toolchain for the A-profile Architecture 8.2-2018-08 (arm-rel-8.23)) ) #573 SMP PREEMPT Sat Nov 20 16:56:19 CST 21
CPU: ARMv7 Processor [410fc075] revision 5 (ARMv7), cr=50c5387d
CPU: div instructions available: patching division code
CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
early_atags_to_fdt() success
OF: fdt:Machine model: INFINITY2M SSC011A-S01A-S
LXmem is 0x7f00000 PHYS_OFFSET is 0x20000000
Add mem start 0x20000000 size 0x7f00000!!!!

LX_MEM  = 0x20000000, 0x7f00000
LX_MEM2 = 0x0, 0x0
LX_MEM3 = 0x0, 0x0
EMAC_LEN= 0x0
DRAM_LEN= 0x0
deal_with_reserved_mmap memblock_reserve success mmap_reserved_config[0].reserved_start=
0x27c00000

deal_with_reserve_mma_heap memblock_reserve success mma_config[0].reserved_start=
0x26700000

cma: dma_contiguous_reserve(limit ffffffff)
cma: dma_contiguous_reserve: reserving 2 MiB for global area
cma: cma_declare_contiguous(size 0x00200000, base 0x00000000, limit 0xffffffff alignment 0x00000000)
cma: Reserved 2 MiB at 0x26400000
Memory policy: Data cache writealloc
On node 0 totalpages: 27136
free_area_init_node: node 0, pgdat c0349600, node_mem_map c6300000
  Normal zone: 254 pages used for memmap
  Normal zone: 0 pages reserved
  Normal zone: 27136 pages, LIFO batch:7
percpu: Embedded 13 pages/cpu @c66be000 s24136 r8192 d20920 u53248
pcpu-alloc: s24136 r8192 d20920 u53248 alloc=13*4096
pcpu-alloc: [0] 0 [0] 1
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 26882
Kernel command line: console=ttyS0,115200 root=/dev/mtdblock4 rootfstype=squashfs ro init=/linuxrc LX_MEM=0x7f00000 mma_heap=mma_heap_name0,miu=0,sz=0x1500000 mma_memblock_remove=1 highres=0
PID hash table entries: 512 (order: -1, 2048 bytes)
Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
Memory: 98716K/108544K available (1990K kernel code, 216K rwdata, 848K rodata, 160K init, 128K bss, 7780K reserved, 2048K cma-reserved)
Virtual kernel memory layout:
    vector  : 0xffff0000 - 0xffff1000   (   4 kB)
    fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
    vmalloc : 0xc8000000 - 0xff800000   ( 888 MB)
    lowmem  : 0xc0000000 - 0xc7f00000   ( 127 MB)
    modules : 0xbf800000 - 0xc0000000   (   8 MB)
      .text : 0xc0008000 - 0xc01f9cc0   (1992 kB)
      .init : 0xc02ec000 - 0xc0314000   ( 160 kB)
      .data : 0xc0314000 - 0xc034a050   ( 217 kB)
       .bss : 0xc034c000 - 0xc036c2e0   ( 129 kB)
SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
Preemptible hierarchical RCU implementation.
        Build-time adjustment of leaf fanout to 32.
        RCU restricting CPUs from NR_CPUS=4 to nr_cpu_ids=2.
RCU: Adjusting geometry for rcu_fanout_leaf=32, nr_cpu_ids=2
NR_IRQS:16 nr_irqs:16 16
ms_init_main_intc: np-&gt;name=ms_main_intc, parent=gic
ms_init_pm_intc: np-&gt;name=ms_pm_intc, parent=ms_main_intc
ss_init_gpi_intc: np-&gt;name=ms_gpi_intc, parent=ms_main_intc
Find CLK_cpupll_clk, hook ms_cpuclk_ops
arm_arch_timer: Architected cp15 timer(s) running at 6.00MHz (virt).
clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x1623fa770, max_idle_ns: 440795202238 ns
sched_clock: 56 bits at 6MHz, resolution 166ns, wraps every 4398046511055ns
Switching to timer-based delay loop, resolution 166ns
Console: colour dummy device 80x30
console [ttyS0] enabled
Calibrating delay loop (skipped), value calculated using timer frequency.. 12.00 BogoMIPS (lpj=60000)
pid_max: default: 4096 minimum: 301
Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
CPU: Testing write buffer coherency: ok
CPU0: update cpu_capacity 1024
CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
Setting up static identity map for 0x20008240 - 0x20008270
CPU1: update cpu_capacity 1024
CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
Brought up 2 CPUs
SMP: Total of 2 processors activated (24.00 BogoMIPS).
CPU: All CPU(s) started in SVC mode.
devtmpfs: initialized
VFP support v0.3: implementor 41 architecture 2 part 30 variant 7 rev 5
clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
futex hash table entries: 16 (order: -2, 1024 bytes)
cma: cma_alloc(cma c035d0d4, count 64, align 4)
cma: cma_alloc(): returned c63c8000
DMA: preallocated 256 KiB pool for atomic coherent allocations
cpuidle: using governor menu


Version : MVX4##I2M#g#######KL_LX409##[BR:g]#XVM

GPIO: probe end
[ss_gpi_intc_domain_alloc] hw:42 -&gt; v:43
[MS_PM_INTC] hw:20 -&gt; v:51
[Padmux]reset Pad_58(reg 0xe28; mask0x4000) to GPIO(org: PM_SD_CDZ_MODE)
hw-breakpoint: found 5 (+1 reserved) breakpoint and 4 watchpoint registers.
hw-breakpoint: maximum watchpoint size is 8 bytes.
SCSI subsystem initialized
libata version 3.00 loaded.
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
Linux video capture interface: v2.00
cma: cma_alloc(cma c035d0d4, count 1, align 0)
cma: cma_alloc(): returned c63c8800
cma: cma_alloc(cma c035d0d4, count 1, align 0)
cma: cma_alloc(): returned c63c8820
Advanced Linux Sound Architecture Driver Initialized.
clocksource: Switched to clocksource arch_sys_counter
hw perfevents: enabled with armv7_cortex_a7 PMU driver, 5 counters available
workingset: timestamp_bits=30 max_order=15 bucket_order=0
squashfs: version 4.0 (2009/01/31) Phillip Lougher
jffs2: version 2.2. © 2001-2006 Red Hat, Inc.
io scheduler noop registered
io scheduler deadline registered (default)
mousedev: PS/2 mouse device common for all mice
[Padmux]reset Pad_5(reg 0x101e0f; mask0x3) to GPIO(org: EJ_MODE_3)
[Padmux]reset Pad_47(reg 0x101e03; mask0x70) to GPIO(org: UART0_MODE_1)
input: soc:gpio_keys as /devices/soc0/soc/soc:gpio_keys/input/input0
A input_register_polled_device return 0
polled_device keyvalue 0
i2c /dev entries driver
usbcore: registered new interface driver uvcvideo
USB Video Class driver (1.1.1)
usbcore: registered new interface driver usbhid
usbhid: USB HID core driver
1f221000.uart0: ttyS0 at MMIO 0x0 (irq = 30, base_baud = 10800000) is a unknown
1f221200.uart1: ttyS1 at MMIO 0x0 (irq = 31, base_baud = 10800000) is a unknown
1f220400.uart2: ttyS2 at MMIO 0x0 (irq = 32, base_baud = 10800000) is a unknown
1f221400.uart2: ttyS3 at MMIO 0x0 (irq = 34, base_baud = 10800000) is a unknown
[Core Voltage] check_voltage_valid: Not support 0mV, use 900mV
ms_rtcpwc 1f006800.rtcpwc: rtc core: registered 1f006800.rtcpwc as rtc0
MSYS: DMEM request: [BDMA_FSP_WBUFF]:0x00010040
cma: cma_alloc(cma c035d0d4, count 17, align 4)
cma: cma_alloc(): returned c63c8a00
MSYS: DMEM request: [BDMA_FSP_WBUFF]:0x00010040 success, CPU phy:@0x26450000, virt:@0xC6450000
[Ser flash] phys=0x26450000, virt=0xc6450000, bus=0x06450000 len:0x10040
[FSP] Flash is detected (0x0B05, 0xC8, 0x40, 0x18) ver1.1
[FSP] 1-1-4 QUAD_READ MODE
mtd .name = NOR_FLASH, .size = 0x01000000 (16MiB)
 .erasesize = 0x00010000 .numeraseregions = 0
MXP_PARTS!!
MXP found at mxp_offset[4]=0x00020000, size=0x1000
Creating 8 MTD partitions on "NOR_FLASH":
0x000000000000-0x000000060000 : "BOOT"
0x000000060000-0x000000260000 : "KERNEL"
0x000000260000-0x000000270000 : "KEY_CUST"
0x000000270000-0x000000290000 : "LOGO"
0x000000290000-0x000000450000 : "rootfs"
0x000000450000-0x0000007c0000 : "miservice"
0x0000007c0000-0x000000f30000 : "customer"
0x000000f30000-0x000001000000 : "appconfigs"
[ms_cpufreq_init] Current clk=1005326304
usbcore: registered new interface driver snd-usb-audio
ThumbEE CPU extension supported.
Registering SWP/SWPB emulation handler
ms_rtcpwc 1f006800.rtcpwc: setting system clock to 1970-01-01 00:04:44 UTC (284)
OF: fdt:not creating '/sys/firmware/fdt': CRC check failed
ALSA device list:
  No soundcards found.
VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
devtmpfs: mounted
This architecture does not have kernel memory protection.
&gt;&gt; [sdmmc] ms_sdmmc_probe
cma: cma_alloc(cma c035d0d4, count 1, align 0)
cma: cma_alloc(): returned c63c8840
[Padmux]reset Pad_51(reg 0x101e08; mask0x300) to GPIO(org: SDIO_MODE_1)
&gt;&gt; [sdmmc_0] Probe Platform Devices
ntfs: driver 2.1.32 [Flags: R/O MODULE].
ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
Mstar_ehc_init version:20180309
ehci monitor start running
usbcore: registered new interface driver usb-storage
MSYS: DMEM request: [AESDMA_ENG]:0x00001000
cma: cma_alloc(cma c035d0d4, count 1, align 0)
cma: cma_alloc(): returned c63c8860
MSYS: DMEM request: [AESDMA_ENG]:0x00001000 success, CPU phy:@0x26443000, virt:@0xC6443000
MSYS: DMEM request: [AESDMA_ENG1]:0x00001000
cma: cma_alloc(cma c035d0d4, count 1, align 0)
cma: cma_alloc(): returned c63c8880
MSYS: DMEM request: [AESDMA_ENG1]:0x00001000 success, CPU phy:@0x26444000, virt:@0xC6444000
mhal: loading out-of-tree module taints kernel.
mhal: module license 'PROPRIETARY' taints kernel.
Disabling lock debugging due to kernel taint
mhal driver init
jpe driver probed
DivpProcInit 515
module [sys] init
MI_SYSCFG_SetupMmapLoader default_config_path:/config/config_tool, argv1:/config/load_mmap,argv2:/config/mmap.ini
Function = init_glob_miu_kranges, Line = 604, Insert KProtect for LX @ MIU: 0
Function = init_glob_miu_kranges, Line = 613, [INIT] for LX0 kprotect: from 0x20000000 to 0x27F00000, using block 0
config...... strPath:/config/config_tool, argv0:/config/load_config
function:parese_Cmdline,pCmd_Section:0x7f00000
m
m
a
_
h
e
a
p
_
n
a
m
e
0
    miu=0,sz=1500000  reserved_start=26700000
r_front-&gt;miuBlockIndex:0,r_front-&gt;start_cpu_bus_pa:0x20000000,r_front-&gt;start_cpu_bus_pa+r_front-&gt;length:0x26700000
r_back-&gt;miuBlockIndex:1,r_back-&gt;start_cpu_bus_pa:0x27c00000,r_back-&gt;start_cpu_bus_pa+r_back-&gt;length:0x27f00000
mi_sys_mma_allocator_create success, heap_base_addr=26700000 length=1500000
Kernel CONFIG_HZ = 100
Sigmastar Module version: project_commit.866b490 sdk_commit.341badc build_time.20200714212826
module [gfx] init
module [divp] init
module [vdec] init
module [ao] init
module [disp] init
drv_ccif_cpu_init :c8380000

request_irq failed
module [ai] init
module [venc] init Jul 14 2020 21:29:05
module [panel] init
module [alsa] init
[918]succeed to call snd_pcm_new. err = 0
[926] err = 0
[932] err = 0
[955] err = 0
[918]succeed to call snd_pcm_new. err = 0
[926] err = 0
[932] err = 0
[955] err = 0
[918]succeed to call snd_pcm_new. err = 0
[926] err = 0
[932] err = 0
[955] err = 0
[918]succeed to call snd_pcm_new. err = 0
[926] err = 0
[932] err = 0
[955] err = 0
[918]succeed to call snd_pcm_new. err = 0
[926] err = 0
[955] err = 0
[918]succeed to call snd_pcm_new. err = 0
[926] err = 0
[955] err = 0
[FB_DEVICE]
FB_HWLAYER_ID=1
FB_HWWIN_ID=0
FB_HWLAYER_DST=3
FB_HWWIN_FORMAT=5
FB_HWLAYER_OUTPUTCOLOR=1
FB_WIDTH=640
FB_HEIGHT=480
FB_TIMMING_WIDTH=1920
FB_TIMMING_HEIGHT=1080
FB_MMAP_NAME=E_MMAP_ID_FB
FB_BUFFER_LEN=4096

Mstar frame buffer device,numFbHwlayer:1


fb0 parse_hwLayerInfo can not find mmap E_MMAP_ID_FB, alloc fb buffer from mma = 4194304


fb0 parse_hwLayerInfo buffercount=3,sstar_fb_var_infos[seq].yres_virtual=1440

[GOP]HalGopUpdateGwinParam 720: GOP_id=011 not support
[GOP]HalGopSetArgb1555Alpha 1208: GOPId=0x11 not support
[GOP]HalGopSetArgb1555Alpha 1208: GOPId=0x11 not support

MI_Moduledev_RegisterDev Enter


gGfxDevHdl = c8259000.


fb0: Mstar frame buffer device

client [687] connected, module:sys
client [687] connected, module:ao
[AUDIO ERROR]DrvAudApiDtsInit, IS_MHAL_SUPPORT_ES_CODEC=0.
[_MI_AO_Init:1237] Init Ao Gain.
client [694] connected, module:sys
[MI_AO_IMPL_SendFrame:2650] Strat pcm out success!!!
[MI ERR ]: MI_SYS_IMPL_Exit[3708]: gSysInitCount:1

client [687] disconnected, module:ao
client [687] disconnected, module:sys
client [694] connected, module:disp
[MI_SYSCFG_GetPanelInfo 50] eTiming = 4, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 2, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 8, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 9, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 10, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 6, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 7, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 11, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 13, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 12, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 14, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 5, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 3, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 38, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 50, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 40, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 43, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 41, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 44, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 42, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 46, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 50, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 45, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 50, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 22, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 23, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 30, hdmiTx = 1  Not Fund!!!
[MI_SYSCFG_GetPanelInfo 50] eTiming = 32, hdmiTx = 1  Not Fund!!!

sstar_fb_open fb:0 info-&gt;fix.smem_start = 0x6721000,user=1


screen_base:c9780000

Freeing fb memory: 3072K

sstar_FB_SetBlending 416 u8GOP=1,u8win=0 aType=1 u8constAlpha=255


sstar_FB_SetBlending 416 u8GOP=1,u8win=0 aType=0 u8constAlpha=255

random: fast init done
client [704] connected, module:sys

sstar_fb_release fb:0 user=1,par-&gt;ref_count=2

client [704] connected, module:gfx
GE_EnableDynaClkGate
 MI_Moduledev_RegisterDev

sstar_fb_mmap vma-&gt;vm_start=b5a9a000
 vma-&gt;vm_end=b5e9a000
 vma-&gt;vm_pgoff =26721

[Padmux]reset Pad_59(reg 0xe1c; mask0x10) to GPIO(org: PM_IRIN_MODE)
reg=0x1F003410 clk=12000000, period=0x3a97
reg=0x1F003408 clk=12000000, u32Duty=0x0
reg=0x1F003410 clk=12000000, period=0x3a97
reg=0x1F003408 clk=12000000, u32Duty=0x3a97
</pre>

<br><script type="text/javascript" src="../tail.js"></script>
