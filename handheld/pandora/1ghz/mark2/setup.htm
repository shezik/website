<!--
 ____________________________________________________________
|                                                            |
|    DESIGN + Pat Heard { http://fullahead.org }             |
|      DATE + 2006.09.12                                     |
| COPYRIGHT + Free use if this notice is kept in place.      |
|____________________________________________________________|

-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>司徒的教學網站</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-lowast="content-type" content="application/xhtml+xml; charset=UTF-8" />
  <meta name="author" content="fullahead.org" />
  <meta name="keywords" content="XHTML, CSS, template, FullAhead" />
  <meta name="description" content="A valid, XHTML 1.0 template" />
  <meta name="robots" content="index, follow, noarchive" />
  <meta name="googlebot" content="noarchive" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.1, maximum-scale=100.0"/>

  <link rel="shortcut icon" href="../../../../website.ico">
  <link rel="stylesheet" type="text/css" href="../../../../styles/shCore.css" />
  <link rel="stylesheet" type="text/css" href="../../../../styles/shThemeDefault.css" />
  <link rel="stylesheet" type="text/css" href="../../../../css/html.css" media="screen, projection, tv " />
  <link rel="stylesheet" type="text/css" href="../../../../css/layout.css" media="screen, projection, tv" />
  <link rel="stylesheet" type="text/css" href="../../../../css/print.css" media="print" />
  
  <script type="text/javascript" src="../../../../scripts/shCore.js"></script>
  <script type="text/javascript" src="../../../../scripts/shBrushCpp.js"></script>

  <!-- Conditional comment to apply opacity fix for IE #content background.
       Invalid CSS, but can be removed without harming design -->
  <!--[if gt IE 5]>
  <link rel="stylesheet" type="text/css" href="css/ie.css" media="screen, projection, tv " />
  <![endif]-->
</head>

<body>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<div id="wrapper">
<div id="content">
<script type="text/javascript" src="../../../../header.js"></script>
<div id="page">
<h3>Pandora 1GHz &gt;&gt; Debian Mark2</h3>
<p><b>安裝系統</b></p>
<hr size="1">
<p>
安裝步驟(建議使用8G SDCard)：<br>
1. 下載<a href="http://pandian.openpandora.org/releases/pandian-mark2-hf_2014-01-02.7z">Debian Mark2</a><br>
2. 執行如下命令(假設SDCard為sdx)
</p>

<pre>
$ 7za x pandian-mark2-hf_2014-01-02.7z
$ sudo dd if=./pandian-mark2-hf_2014-01-02.img of=/dev/sdx
</pre><br>

<p>
3. 使用gparted工具將Partition 2調整為最大空間<br>
4. Debian Mark2開機完成後，修改<b>xsessionrc</b>成如下：
</p>

<pre>
$ nano ~/.xsessionrc
</pre>
<pre class="brush:cpp">
#!/bin/sh

# Load xmodmap
xmodmap ~/.pndXmodmap

# Set mixer to max
amixer set Master,0 100% unmute

# Start mpd
mpd /etc/pandian/mpd.conf --kill
mpd /etc/pandian/mpd.conf

setxkbmap en_US
xmodmap /home/xxx/.pndXmodmap
xbindkeys -f /home/xxx/.xbindkeysrc
</pre>
<p>
P.S. xxx是使用者名字<br><br>

5. 接著修改<b>pndXmodmap</b>對應鍵
</p>

<pre>
$ nano ~/.pndXmodmap
</pre>

<pre class="brush:cpp">
keycode   9 = Escape NoSymbol Escape
keycode  10 = 1 section 1 section
keycode  11 = 2 braceleft 2 braceleft
keycode  12 = 3 braceright 3 braceright
keycode  13 = 4 asciitilde 4 asciitilde
keycode  14 = 5 percent 5 percent
keycode  15 = 6 asciicircum 6 asciicircum
keycode  16 = 7 ampersand 7 ampersand
keycode  17 = 8 asterisk 8 asterisk
keycode  18 = 9 bracketleft 9 bracketleft
keycode  19 = 0 bracketright 0 bracketright
keycode  22 = BackSpace Delete BackSpace Delete
keycode  24 = q Q q Q
keycode  25 = w W w W
keycode  26 = e E e E
keycode  27 = r R r R
keycode  28 = t T t T
keycode  29 = y Y y Y
keycode  30 = u U u U
keycode  31 = i I i I
keycode  32 = o O o O
keycode  33 = p P p P
keycode  34 = parenleft NoSymbol parenleft
keycode  35 = parenright NoSymbol parenright
keycode  36 = Return Multi_key Return
keycode  37 = Control_L NoSymbol Control_L
keycode  38 = a A a A
keycode  39 = s S s S
keycode  40 = d D d D
keycode  41 = f F f F
keycode  42 = g G g G
keycode  43 = h H h H
keycode  44 = j J j J
keycode  45 = k K k K
keycode  46 = l L l L
keycode  47 = semicolon NoSymbol semicolon
keycode  48 = apostrophe NoSymbol apostrophe
keycode  49 = grave NoSymbol grave
keycode  50 = Shift_L NoSymbol Shift_L
keycode  52 = z Z z Z
keycode  53 = x X x X
keycode  54 = c C c C
keycode  55 = v V v V
keycode  56 = b B b B
keycode  57 = n N n N
keycode  58 = m M m M
keycode  59 = comma less comma less
keycode  60 = period greater period greater
keycode  61 = slash NoSymbol slash
keycode  62 = Shift_R NoSymbol Shift_R
keycode  64 = Alt_L NoSymbol Alt_L
keycode  65 = space NoSymbol space
keycode  66 = Caps_Lock NoSymbol Caps_Lock
keycode  67 = F1 NoSymbol F1
keycode  68 = F2 NoSymbol F2
keycode  69 = F3 NoSymbol F3
keycode  70 = F4 NoSymbol F4
keycode  71 = F5 NoSymbol F5
keycode  72 = F6 NoSymbol F6
keycode  73 = F7 NoSymbol F7
keycode  74 = F8 NoSymbol F8
keycode  75 = F9 NoSymbol F9
keycode  76 = F10 NoSymbol F10
keycode  82 = minus NoSymbol minus NoSymbol
keycode  83 = Home quotedbl Home quotedbl
keycode  86 = plus NoSymbol plus NoSymbol
keycode  87 = Prior Multi_key Prior Multi_key
keycode  88 = End XF86_Switch_VT_2 End XF86_Switch_VT_2
keycode  89 = Next XF86_Switch_VT_1 Next XF86_Switch_VT_1
keycode  95 = F11 NoSymbol F11
keycode  96 = F12 NoSymbol F12
keycode 118 = Insert NoSymbol Insert
keycode 132 = yen NoSymbol yen
keycode 187 = parenleft NoSymbol parenleft
keycode 188 = parenright NoSymbol parenright
keycode 191 = acute NoSymbol acute
keycode 192 = bar NoSymbol bar
keycode 193 = underscore NoSymbol underscore
keycode 194 = numbersign NoSymbol numbersign
keycode 195 = exclam NoSymbol exclam
keycode 196 = sterling NoSymbol sterling
keycode 197 = quotedbl NoSymbol quotedbl
keycode 198 = at NoSymbol at
keycode 199 = colon NoSymbol colon
keycode 200 = dollar NoSymbol dollar
keycode 201 = EuroSign NoSymbol EuroSign
keycode 222 = question NoSymbol question
keycode 235 = Tab NoSymbol Tab
add mod4 = XF86MenuKB
</pre>
<p>
P.S. 主要的修改部份是新增Pandora按鍵<br><br>

6. 修改<b>xbindkeysrc</b>對應鍵
</p>

<pre>
$ nano .xbindkeysrc
</pre>
<pre class="brush:cpp">
"gnome-screenshot -w" 
  control + alt + w

"gnome-screenshot" 
  control + alt + s

"lxpanelctl menu"
  XF86MenuKB
</pre><br>

<table>
  <tr><th>按鍵</th><th>說明</th></tr>
  <tr><td>Ctrl + Alt + w</td><td>Screen catpture(當下視窗)</td></tr>
  <tr><td>Ctrl + Alt + s</td><td>Screen catpture(全螢幕)</td></tr>
  <tr><td>Pandora</td><td>Menu</td></tr>
</table><br>

<p>
7. 修改repository
</p>

<pre>
$ su
# rm /etc/apt/sources.list.d/*
# nano /etc/apt/sources.list.d/pandora.list
</pre>
<pre class="brush:cpp">
deb [arch=armhf] http://ftp.us.debian.org/debian jessie main contrib non-free
deb [arch=armhf] http://ftp.us.debian.org/debian wheezy main contrib non-free

deb-src [arch=armhf] http://ftp.us.debian.org/debian jessie main contrib non-free
deb-src [arch=armhf] http://ftp.us.debian.org/debian wheezy main contrib non-free
</pre><br>

<p>
8. 更新並安裝套件
</p>

<pre>
# apt-get update
# apt-get install xbindkeys xmodmap
</pre><br>

<p>
9. 修改成自動登入
</p>

<pre>
# nano  /etc/lightdm/lightdm.conf
</pre>

<pre class="brush:cpp">
autologin-user=xxx
autologin-user-timeout=0
</pre>

<p>
P.S. xxx是使用者名字<br><br>

10. 修改螢幕亮度
</p>

<pre>
# nano /etc/rc.local
</pre>

<pre class="brush:cpp">
pdcmd LCDBright 5
exit 0
</pre><br>

<p>
11. 修改字型
</p>

<pre>
$ sudo apt-get install fonts-arphic-bkai00mp fonts-arphic-bsmi00lp fonts-arphic-gbsn00lp ttf-arphic-bkai00mp ttf-arphic-bsmi00lp ttf-arphic-gbsn00lp fonts-droid ttf-droid ttf-wqy-zenhei ttf-wqy-microhei xfonts-wqyfonts-arphic-ukai ttf-arphic-ukai fonts-arphic-uming ttf-arphic-uming fonts-arphic-ukai ttf-arphic-ukai fonts-arphic-uming ttf-arphic-uming
$ vim ~/.font.conf
</pre>

<pre class="brush:cpp">
CTYPE fontconfig SYSTEM 'fonts.dtd'&gt;
&lt;fontconfig&gt;
&lt;!-- prefered fonts --&gt;
&lt;alias&gt;
 &lt;family&gt;serif&lt;/family&gt;
 &lt;prefer&gt;
  &lt;family&gt;DejaVu Serif&lt;/family&gt;
  &lt;family&gt;Bitstream Vera Serif&lt;/family&gt;
  &lt;family&gt;Evermore Song&lt;/family&gt;
  &lt;family&gt;WenQuanYi Bitmap Song&lt;/family&gt;
  &lt;family&gt;AR PL UMing CN&lt;/family&gt;
  &lt;family&gt;AR PL ShanHeiSun Uni&lt;/family&gt;
  &lt;family&gt;Droid Sans Fallback&lt;/family&gt;
  &lt;family&gt;WenQuanYi Micro Hei&lt;/family&gt;
  &lt;family&gt;WenQuanYi Zen Hei&lt;/family&gt;
 &lt;/prefer&gt;
&lt;/alias&gt;
&lt;alias&gt;
 &lt;family&gt;sans-serif&lt;/family&gt;
 &lt;prefer&gt;
  &lt;family&gt;DejaVu Sans&lt;/family&gt;
  &lt;family&gt;Bitstream Vera Sans&lt;/family&gt;
  &lt;family&gt;Evermore Song&lt;/family&gt;
  &lt;family&gt;Droid Sans Fallback&lt;/family&gt;
  &lt;family&gt;WenQuanYi Micro Hei&lt;/family&gt;
  &lt;family&gt;WenQuanYi Bitmap Song&lt;/family&gt;
  &lt;family&gt;WenQuanYi Zen Hei&lt;/family&gt;
  &lt;family&gt;AR PL UMing CN&lt;/family&gt;
  &lt;family&gt;AR PL ShanHeiSun Uni&lt;/family&gt;
 &lt;/prefer&gt;
&lt;/alias&gt;
&lt;alias&gt;
 &lt;family&gt;monospace&lt;/family&gt;
 &lt;prefer&gt;
  &lt;family&gt;DejaVu Sans Mono&lt;/family&gt;
  &lt;family&gt;Bitstream Vera Sans Mono&lt;/family&gt;
  &lt;family&gt;Evermore Song&lt;/family&gt;
  &lt;family&gt;WenQuanYi Micro Hei Mono&lt;/family&gt;
  &lt;family&gt;WenQuanYi Zen Hei Mono&lt;/family&gt;
  &lt;family&gt;Droid Sans Fallback&lt;/family&gt;
  &lt;family&gt;WenQuanYi Bitmap Song&lt;/family&gt;
  &lt;family&gt;AR PL UMing CN&lt;/family&gt;
  &lt;family&gt;AR PL ShanHeiSun Uni&lt;/family&gt;
 &lt;/prefer&gt;
&lt;/alias&gt;
&lt;!-- Default Alias --&gt;
&lt;alias&gt;
 &lt;family&gt;DejaVu Sans&lt;/family&gt;
 &lt;default&gt;
  &lt;family&gt;sans-serif&lt;/family&gt;
 &lt;/default&gt;
&lt;/alias&gt;
&lt;!-- Generic font families --&gt;
&lt;match target="pattern"&gt;
 &lt;test name="family" qual="any"&gt;
  &lt;string&gt;serif&lt;/string&gt;
 &lt;/test&gt;
 &lt;edit binding="strong" mode="prepend" name="family"&gt;
  &lt;string&gt;DejaVu Serif&lt;/string&gt;
 &lt;/edit&gt;
&lt;/match&gt;
&lt;match target="pattern"&gt;
 &lt;test name="family" qual="any"&gt;
  &lt;string&gt;sans-serif&lt;/string&gt;
 &lt;/test&gt;
 &lt;edit binding="strong" mode="prepend" name="family"&gt;
  &lt;string&gt;DejaVu Sans&lt;/string&gt;
 &lt;/edit&gt;
&lt;/match&gt;
&lt;match target="pattern"&gt;
 &lt;test name="family" qual="any"&gt;
  &lt;string&gt;monospace&lt;/string&gt;
 &lt;/test&gt;
 &lt;edit binding="strong" mode="prepend" name="family"&gt;
  &lt;string&gt;DejaVu Sans Mono&lt;/string&gt;
 &lt;/edit&gt;
&lt;/match&gt;
&lt;!-- Anti-alias --&gt;
&lt;match target="font"&gt;
 &lt;edit name="embeddedbitmap"&gt;
  &lt;bool&gt;false&lt;/bool&gt;
 &lt;/edit&gt;
&lt;/match&gt;
&lt;!-- WenQuanYi Bitmap Song --&gt;
&lt;selectfont&gt;
 &lt;acceptfont&gt;
  &lt;pattern&gt;
   &lt;patelt name="family"&gt;
    &lt;string&gt;WenQuanYi Bitmap Song&lt;/string&gt;
   &lt;/patelt&gt;
  &lt;/pattern&gt;
 &lt;/acceptfont&gt;
&lt;/selectfont&gt;
&lt;match target="pattern"&gt;
 &lt;test name="family" qual="any"&gt;
  &lt;string&gt;WenQuanYi Bitmap Song&lt;/string&gt;
 &lt;/test&gt;
 &lt;test compare="less" name="pixelsize" qual="any"&gt;
  &lt;double&gt;12&lt;/double&gt;
 &lt;/test&gt;
 &lt;edit mode="assign" name="family"&gt;
  &lt;string&gt;WenQuanYi Micro Hei&lt;/string&gt;
 &lt;/edit&gt;
&lt;/match&gt;
&lt;match target="pattern"&gt;
 &lt;test name="family" qual="any"&gt;
  &lt;string&gt;WenQuanYi Bitmap Song&lt;/string&gt;
 &lt;/test&gt;
 &lt;test compare="more" name="pixelsize" qual="any"&gt;
  &lt;double&gt;16&lt;/double&gt;
 &lt;/test&gt;
 &lt;edit mode="assign" name="family"&gt;
  &lt;string&gt;AR PL ShanHeiSun&lt;/string&gt;
 &lt;/edit&gt;
&lt;/match&gt;
&lt;!-- Alias --&gt;
&lt;alias&gt;
 &lt;family&gt;SimSun&lt;/family&gt;
 &lt;family&gt;宋體&lt;/family&gt;
 &lt;accept&gt;
  &lt;family&gt;LiHei Pro&lt;/family&gt;
  &lt;family&gt;Evermore Song&lt;/family&gt;
  &lt;family&gt;WenQuanYi Bitmap Song&lt;/family&gt;
  &lt;family&gt;AR PL ShanHeiSun Uni&lt;/family&gt;
 &lt;/accept&gt;
 &lt;default&gt;
  &lt;family&gt;serif&lt;/family&gt;
 &lt;/default&gt;
&lt;/alias&gt;
&lt;alias&gt;
 &lt;family&gt;SimHei&lt;/family&gt;
 &lt;family&gt;黑體&lt;/family&gt;
 &lt;accept&gt;
  &lt;family&gt;LiHei Pro&lt;/family&gt;
  &lt;family&gt;WenQuanYi Micro Hei&lt;/family&gt;
  &lt;family&gt;WenQuanYi Zen Hei&lt;/family&gt;
 &lt;/accept&gt;
 &lt;default&gt;
  &lt;family&gt;sans-serif&lt;/family&gt;
 &lt;/default&gt;
&lt;/alias&gt;
&lt;alias&gt;
 &lt;family&gt;微軟雅黑&lt;/family&gt;
 &lt;family&gt;Microsoft YaHei&lt;/family&gt;
 &lt;accept&gt;
  &lt;family&gt;LiHei Pro&lt;/family&gt;
  &lt;family&gt;WenQuanYi Micro Hei&lt;/family&gt;
  &lt;family&gt;WenQuanYi Zen Hei&lt;/family&gt;
 &lt;/accept&gt;
 &lt;default&gt;
  &lt;family&gt;sans-serif&lt;/family&gt;
 &lt;/default&gt;
&lt;/alias&gt;
&lt;!-- --&gt;
&lt;match target="font"&gt;
 &lt;edit mode="assign" name="rgba"&gt;
  &lt;const&gt;rgb&lt;/const&gt;
 &lt;/edit&gt;
&lt;/match&gt;
&lt;match target="font"&gt;
 &lt;edit mode="assign" name="hinting"&gt;
  &lt;bool&gt;true&lt;/bool&gt;
 &lt;/edit&gt;
&lt;/match&gt;
&lt;match target="font"&gt;
 &lt;edit mode="assign" name="hintstyle"&gt;
  &lt;const&gt;hintfull&lt;/const&gt;
 &lt;/edit&gt;
&lt;/match&gt;
&lt;match target="font"&gt;
 &lt;edit mode="assign" name="antialias"&gt;
  &lt;bool&gt;true&lt;/bool&gt;
 &lt;/edit&gt;
&lt;/match&gt;
&lt;/fontconfig&gt;
</pre><br>

<p>
12. 完成<br>
<img src="setup/1.jpg" class="maxSize">
</p>

<p>
<br><a href="../../../../handheld.htm">返回上一頁</a>
</p>

</div>
</div>
</div>
</body>
</html>
