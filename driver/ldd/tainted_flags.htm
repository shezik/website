<!--
 ____________________________________________________________
|                                                            |
|    DESIGN + Pat Heard { http://fullahead.org }             |
|      DATE + 2006.09.12                                     |
| COPYRIGHT + Free use if this notice is kept in place.      |
|____________________________________________________________|

-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>司徒的教學網站</title>
  <meta http-lowast="content-type" content="application/xhtml+xml; charset=UTF-8" />
  <meta name="author" content="fullahead.org" />
  <meta name="keywords" content="XHTML, CSS, template, FullAhead" />
  <meta name="description" content="A valid, XHTML 1.0 template" />
  <meta name="robots" content="index, follow, noarchive" />
  <meta name="googlebot" content="noarchive" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.1, maximum-scale=100.0"/>

  <link rel="shortcut icon" href="../../website.ico">
  <link rel="stylesheet" type="text/css" href="../../styles/shCore.css" />
  <link rel="stylesheet" type="text/css" href="../../styles/shThemeDefault.css" />
  <link rel="stylesheet" type="text/css" href="../../css/html.css" media="screen, projection, tv " />
  <link rel="stylesheet" type="text/css" href="../../css/layout.css" media="screen, projection, tv" />
  <link rel="stylesheet" type="text/css" href="../../css/print.css" media="print" />
  
  <script type="text/javascript" src="../../scripts/shCore.js"></script>
  <script type="text/javascript" src="../../scripts/shBrushCpp.js"></script>

  <!-- Conditional comment to apply opacity fix for IE #content background.
       Invalid CSS, but can be removed without harming design -->
  <!--[if gt IE 5]>
  <link rel="stylesheet" type="text/css" href="css/ie.css" media="screen, projection, tv " />
  <![endif]-->
</head>

<body>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<div id="wrapper">
<div id="content">
<script type="text/javascript" src="../../header.js"></script>
<div id="page">
<h3>Linux Device Driver</h3>
<p><b>tainted flags</b></p>
<hr size="1">
<p>
參考資訊：<br>
1. <a href="https://www.kernel.org/doc/html/latest/admin-guide/tainted-kernels.html">tainted kernels</a><br><br>

example
</p>
<pre>
BUG: unable to handle kernel NULL pointer dereference at 0000000000000000
Oops: 0002 [#1] SMP PTI
CPU: 0 PID: 4424 Comm: insmod Tainted: P        W  O      4.20.0-0.rc6.fc30 #1
Hardware name: Red Hat KVM, BIOS 0.5.1 01/01/2011
RIP: 0010:my_oops_init+0x13/0x1000 [kpanic]
[...]
</pre><br>

<p>
<img src="tainted_flags/1.jpg"  class="maxSize"><br><br>

說明：
</p>
<table>
<tr><th>Flag</th><th>Description</th></tr>
<tr><td>G</td><td>if all modules loaded have a GPL or compatible license, P if any proprietary module has been loaded. Modules without a MODULE_LICENSE or with a MODULE_LICENSE that is not recognised by insmod as GPL compatible are assumed to be proprietary.</td></tr>

 <tr><td>F</td><td>if any module was force loaded by insmod -f, ' ' if all modules were loaded normally.</td></tr>

 <tr><td>S</td><td>if the kernel is running on a processor or system that is out of specification: hardware has been put into an unsupported configuration, therefore proper execution cannot be guaranteed. Kernel will be tainted if, for example:<br><br>
    on x86: PAE is forced through forcepae on intel CPUs (such as Pentium M) which do not report PAE but may have a functional implementation, an SMP kernel is running on non officially capable SMP Athlon CPUs, MSRs are being poked at from userspace.<br><br>
    on arm: kernel running on certain CPUs (such as Keystone 2) without having certain kernel features enabled.<br><br>
    on arm64: there are mismatched hardware features between CPUs, the bootloader has booted CPUs in different modes.<br><br>
    certain drivers are being used on non supported architectures (such as scsi/snic on something else than x86_64, scsi/ips on non x86/x86_64/itanium, have broken firmware settings for the irqchip/irq-gic on arm64 …).</td></tr>
 <tr><td>R</td><td>if a module was force unloaded by rmmod -f, ' ' if all modules were unloaded normally.</td></tr>
 <tr><td>M</td><td>if any processor has reported a Machine Check Exception, ' ' if no Machine Check Exceptions have occurred.</td></tr>
 <tr><td>B</td><td>If a page-release function has found a bad page reference or some unexpected page flags. This indicates a hardware problem or a kernel bug; there should be other information in the log indicating why this tainting occurred.</td></tr>
 <tr><td>U</td><td>if a user or user application specifically requested that the Tainted flag be set, ' ' otherwise.</td></tr>
 <tr><td>D</td><td>if the kernel has died recently, i.e. there was an OOPS or BUG.</td></tr>
 <tr><td>A</td><td>if an ACPI table has been overridden.</td></tr>
 <tr><td>W</td><td>if a warning has previously been issued by the kernel. (Though some warnings may set more specific taint flags.)</td></tr>
 <tr><td>C</td><td>if a staging driver has been loaded.</td></tr>
 <tr><td>I</td><td>if the kernel is working around a severe bug in the platform firmware (BIOS or similar).</td></tr>
 <tr><td>O</td><td>if an externally-built (“out-of-tree”) module has been loaded.</td></tr>
 <tr><td>E</td><td>if an unsigned module has been loaded in a kernel supporting module signature.</td></tr>
 <tr><td>L</td><td>if a soft lockup has previously occurred on the system.</td></tr>
 <tr><td>K</td><td>if the kernel has been live patched.</td></tr>
 <tr><td>X</td><td>Auxiliary taint, defined for and used by Linux distributors.</td></tr>
 <tr><td>T</td><td>Kernel was build with the randstruct plugin, which can intentionally produce extremely unusual kernel structure layouts (even performance pathological ones), which is important to know when debugging. Set at build time.</td></tr>
</table><br>

<p>
<br><a href="../../driver.htm">返回上一頁</a>
</p>

</div>
</div>
</div>
</body>
</html>
